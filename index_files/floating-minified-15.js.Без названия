function floatingPlayer(t){if(this.$player=null,this.allPlayers=s(),this.allPlayers&&this.allPlayers.length&&(this.$player=this.allPlayers[0]),this.$player&&this.$player.childNodes.length&&"IFRAME"===this.$player.childNodes[0].tagName){var e;this.activePlayerNumber=0,this.isFloating=!1,this.dynamicStyles=function(){var t=document.createElement("style");t.innerHTML=".player-move-up{z-index: 2500000;position: fixed;bottom: 369px;right: 0;background-color: #010101;width: 30px;height: 30px;display: none;cursor: pointer;color: #fff;}\n.player-move-up:hover {background-color: #ffd200;}\n.player-move-up:before, .player-move-up:after {position: absolute;left: 14px;content: ' ';height: 21px;top: 6px;width: 2px;background-color: #fff;}\n .player-move-up:hover:before, .player-move-up:hover:after{background-color: #000;}\n.player-move-up:before {transform: rotate(45deg);}\n.player-move-up:after {transform: rotate(-45deg);}\n.player-floating{z-index: 2500000;top: inherit;right:0;}",document.body.appendChild(t);var e=document.createElement("style");return document.body.appendChild(e),e}(),this.$playerInside=this.$player.childNodes[0],this.$disableEl=((e=document.createElement("div")).className="player-move-up",e),this.$player.appendChild(this.$disableEl);var i=!0,a=!1;t=t||{};this.floatPosition=t.position||"bottom",this.topOffset=t.topOffset||0;var o=this.$player.offsetHeight;this.startPos=o/2-this.topOffset,this.bgImage=t.backgroundImage||"https://ocdn.eu/images/pulscms/OWU7MDA_/20ec3038d7c7d1637e04da3395de954d.png",this.$player.style.background='url("'+this.bgImage+'")',this.$player.style.backgroundSize="cover",this.allPlayers=s(),window.addEventListener("scroll",function(){if(i){!function(){if(this.allPlayers.length<2)return;for(var t=0;t<this.allPlayers.length;t++){var e=this.allPlayers[t].getBoundingClientRect();if(e.bottom<window.innerHeight&&e.top>this.topOffset&&this.activePlayerNumber!==t){this.isFloating&&l(),this.activePlayerNumber=t,this.$player=this.allPlayers[t],this.$playerInside=this.$player.childNodes[0];var i=this.$player.offsetHeight;this.startPos=i/2-this.topOffset,this.$player.style.background='url("'+this.bgImage+'")',this.$player.style.backgroundSize="cover"}}}();var t=this.$player.getBoundingClientRect();window.innerHeight-t.bottom>0&&(a=!0);var e=this.startPos+t.top<0,o=window.innerHeight+this.$player.offsetHeight/2<this.$player.getBoundingClientRect().bottom;!this.isFloating&&(e||a&&o)?function(){this.isFloating=!0;var t=n();this.dynamicStyles.innerHTML="@keyframes floaton {from {width:"+t.mainWidth+"px; height: "+t.mainHeight+"px;right:"+t.mainRight+"px; bottom: "+t.mainBottom+"px}to {width: "+t.floatingWidth+"px; height: "+t.floatingHeight+"px;right:0;}}";var e=this.$playerInside,i=this.$disableEl;a=e,o="player-floating",a.classList?a.classList.add(o):a.className+=" "+o,e.style.animation="floaton .5s",e.style.width=t.floatingWidth+"px",e.style.height=t.floatingHeight+"px",e.style.position="fixed",e.style.bottom="bottom"===this.floatPosition?"0":"inherit",e.style.top="bottom"===this.floatPosition?"inherit":this.topOffset+"px",e.style.left="inherit",setTimeout(function(){this.isFloating&&(i.style.display="block"),e.style.animation=""},500),"bottom"===this.floatPosition?i.style.bottom=t.floatingHeight+"px":(i.style.top=this.topOffset+"px",i.style.right=t.floatingWidth+"px");var a,o;e.style.marginBottom="0",dataLayer.push({event:"player",ga:{eventCategory:"floatingplayer",eventAction:"float",eventLabel:"start"}})}():!this.isFloating||e||o||l()}}),this.$disableEl.onclick=function(t){i=!1,l(),dataLayer.push({event:"player",ga:{eventCategory:"click",eventAction:"float",eventLabel:"x"}})}}else setTimeout(function(){floatingPlayer(t)},5e3);function l(){this.isFloating=!1;var t,e,i=this.$playerInside,a=this.$disableEl,o=n();e="player-floating",(t=i).classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "),i.style.right="0",setTimeout(function(){this.isFloating||(i.style.width="100%",i.style.height="100%",i.style.top="0",i.style.left="0"),i.style.animation=""},500),i.style.position="absolute",i.style.bottom="0",i.style.marginBottom="",a.style.display="none",this.dynamicStyles.innerHTML="@keyframes floatoff {from {width: "+o.floatingWidth+"px; height: "+o.floatingHeight+"px;}to {width:"+o.mainWidth+"px; height: "+o.mainHeight+"px;}}",i.style.animation="floatoff .5s",dataLayer.push({event:"player",ga:{eventCategory:"floatingplayer",eventAction:"float",eventLabel:"end"}})}function s(){var t=document.getElementsByClassName("pulsembed_embed"),e=[];if(t.length){for(var i=0;i<t.length;i++){var a=t[i].dataset.providerName;"OnettvVideo"!==a&&"pulsevideo"!==a||e.push(t[i])}return e}}function n(){var e=t.width||window.outerWidth/4;return{floatingWidth:e,floatingHeight:9/16*e,mainBottom:window.innerHeight-this.$player.getBoundingClientRect().bottom,mainRight:window.innerWidth-this.$player.getBoundingClientRect().right,mainHeight:this.$player.offsetHeight,mainWidth:this.$player.offsetWidth}}}